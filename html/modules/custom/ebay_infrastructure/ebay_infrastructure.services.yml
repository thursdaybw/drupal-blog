services:
  drupal.ebay_infrastructure.oauth_token:
    class: Drupal\ebay_infrastructure\Service\OAuthTokenService
    arguments:
      - '@http_client'
      - '@config.factory'

  drupal.ebay_infrastructure.account_manager:
    class: Drupal\ebay_infrastructure\Service\EbayAccountManager
    arguments:
      - '@entity_type.manager'
      - '@drupal.ebay_infrastructure.oauth_token'

  drupal.ebay_infrastructure.media_api:
    class: Drupal\ebay_infrastructure\Service\EbayMediaApiClient
    arguments:
      - '@http_client'
      - '@drupal.ebay_infrastructure.account_manager'

  drupal.ebay_infrastructure.media_image_uploader:
    class: Drupal\ebay_infrastructure\Service\EbayMediaImageUploader
    arguments:
      - '@drupal.ebay_infrastructure.media_api'

  drupal.ebay_infrastructure.sell_api:
    class: Drupal\ebay_infrastructure\Service\SellApiClient
    arguments:
      - '@http_client'
      - '@drupal.ebay_infrastructure.account_manager'

  drupal.ebay_infrastructure.store_service:
    class: Drupal\ebay_infrastructure\Service\StoreService
    arguments:
      - '@drupal.ebay_infrastructure.sell_api'
