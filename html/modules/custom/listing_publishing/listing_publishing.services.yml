services:
  drupal.listing_publishing.book_assembler:
    class: Drupal\listing_publishing\Service\BookListingAssembler
    arguments:
      - '@file_url_generator'
      - '@listing_publishing.sku_generator'
      - '@entity_type.manager'

  drupal.listing_publishing.publish_command:
    class: Drupal\listing_publishing\Command\PublishAiListingCommand
    arguments:
      - '@entity_type.manager'
      - '@drupal.listing_publishing.book_assembler'
      - '@listing_publishing.marketplace_publisher'

  listing_publishing.marketplace_publisher:
    alias: drupal.ebay_connector.marketplace_publisher

  'Drupal\listing_publishing\Contract\ListingImageUploaderInterface':
    alias: drupal.ebay_infrastructure.media_image_uploader

  drupal.listing_publishing.publisher:
    class: Drupal\listing_publishing\Service\ListingPublisher
    arguments:
      - '@drupal.listing_publishing.book_assembler'
      - '@listing_publishing.marketplace_publisher'
      - '@ai_listing.inventory_sku_resolver'
      - '@drupal.listing_publishing.marketplace_publication_recorder'
      - '@drupal.listing_publishing.marketplace_publication_resolver'
      - '@drupal.listing_publishing.marketplace_publication_lifecycle_manager'

  listing_publishing.sku_generator:
    class: Drupal\listing_publishing\Service\SkuGenerator

  drupal.listing_publishing.marketplace_publication_recorder:
    class: Drupal\listing_publishing\Service\MarketplacePublicationRecorder
    arguments:
      - '@entity_type.manager'

  drupal.listing_publishing.marketplace_publication_resolver:
    class: Drupal\listing_publishing\Service\MarketplacePublicationResolver
    arguments:
      - '@entity_type.manager'

  drupal.listing_publishing.marketplace_publication_lifecycle_manager:
    class: Drupal\listing_publishing\Service\MarketplacePublicationLifecycleManager
    arguments:
      - '@entity_type.manager'
